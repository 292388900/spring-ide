<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<!--
/*******************************************************************************
 * Copyright (c) 2005, 2009 Spring IDE Developers
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 * 
 * Contributors:
 *     Spring IDE Developers - initial API and implementation
 *******************************************************************************/
 -->
<plugin>

	<extension point="org.eclipse.core.runtime.contentTypes">
		<content-type id="beansConfig" name="%contentTypeName"
			base-type="org.eclipse.core.runtime.xml" 
			priority="normal"
			default-charset="UTF-8">
			<describer
				class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber">
				<parameter name="element" value="beans" />
			</describer>
		</content-type>
	</extension>

	<extension-point id="namespaces" name="%contributionName"
		schema="schema/namespaces.exsd" />

	<extension point="org.eclipse.wst.sse.ui.editorConfiguration">
		<sourceViewerConfiguration
			class="org.springframework.ide.eclipse.beans.ui.editor.BeansStructuredTextViewerConfiguration"
			target="org.springframework.ide.eclipse.beans.ui.editor.beansConfig" />
		<contentOutlineConfiguration
			class="org.springframework.ide.eclipse.beans.ui.editor.outline.BeansContentOutlineConfiguration"
			target="org.springframework.ide.eclipse.beans.ui.editor.beansConfig" />
	</extension>

	<extension point="org.eclipse.wst.sse.core.modelHandler">
		<modelHandler
			id="org.springframework.ide.eclipse.beans.ui.editor.handler.beansConfig"
			default="false"
			associatedContentTypeId="org.springframework.ide.eclipse.beans.ui.editor.beansConfig"
			class="org.springframework.ide.eclipse.beans.ui.editor.BeansModelHandler">
		</modelHandler>
	</extension>

	<extension
		point="org.eclipse.wst.sse.ui.adapterFactoryDescription">
		<adapterFactoryDescription
			class="org.springframework.ide.eclipse.beans.ui.editor.BeansAdapterFactoryProvider">
		</adapterFactoryDescription>
	</extension>

	<extension point="org.eclipse.wst.xml.core.catalogContributions">
		<catalogContribution>
			<!-- Bean namespace -->
			<public 
				publicId="-//SPRING//DTD BEAN//EN"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-beans.dtd"
				webURL="http://www.springframework.org/dtd/spring-beans.dtd" />
			<public 
				publicId="-//SPRING//DTD BEAN 2.0//EN"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-beans-2.0.dtd"
				webURL="http://www.springframework.org/dtd/spring-beans-2.0.dtd" />
			<!-- <public 
				publicId="-//SPRING//DTD BEAN 2.5//EN"
				uri="platform:/plugin/org.springframework.bundle.spring/org/springframework/beans/factory/xml/spring-beans-2.5.dtd"
				webURL="http://www.springframework.org/dtd/spring-beans-2.5.dtd" /> -->
			<public
				publicId="http://www.springframework.org/schema/beans"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-beans-2.5.xsd"
				webURL="http://www.springframework.org/schema/beans/spring-beans.xsd" />
			<system
				systemId="http://www.springframework.org/schema/beans/spring-beans.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-beans-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-beans-2.0.xsd" />
			<system
				systemId="http://www.springframework.org/schema/beans/spring-beans-2.1.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-beans-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-beans-2.5.xsd" />
	
			<!-- Util namespace -->
			<public
				publicId="http://www.springframework.org/schema/util"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-util-2.5.xsd"
				webURL="http://www.springframework.org/schema/util/spring-util.xsd" />
			<system
				systemId="http://www.springframework.org/schema/util/spring-util.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-util-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/util/spring-util-2.0.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-util-2.0.xsd" />
			<system
				systemId="http://www.springframework.org/schema/util/spring-util-2.1.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-util-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/util/spring-util-2.5.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-util-2.5.xsd" />

			<!-- JMS namespace -->
			<public
				publicId="http://www.springframework.org/schema/jms"
				uri="platform:/plugin/org.springframework.jms/org/springframework/jms/config/spring-jms-2.5.xsd"
				webURL="http://www.springframework.org/schema/jms/spring-jms.xsd" />
			<system
				systemId="http://www.springframework.org/schema/jms/spring-jms.xsd"
				uri="platform:/plugin/org.springframework.jms/org/springframework/jms/config/spring-jms-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/jms/spring-jms-2.1.xsd"
				uri="platform:/plugin/org.springframework.jms/org/springframework/jms/config/spring-jms-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/jms/spring-jms-2.5.xsd"
				uri="platform:/plugin/org.springframework.jms/org/springframework/jms/config/spring-jms-2.5.xsd" />

			<!-- Context namespace -->
			<public
				publicId="http://www.springframework.org/schema/context"
				uri="platform:/plugin/org.springframework.context/org/springframework/context/config/spring-context-2.5.xsd"
				webURL="http://www.springframework.org/schema/context/spring-context.xsd" />
			<system
				systemId="http://www.springframework.org/schema/context/spring-context.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/context/config/spring-context-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/context/spring-context-2.1.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/context/config/spring-context-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/context/spring-context-2.5.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/context/config/spring-context-2.5.xsd" />
			
			<!-- AOP namespace -->
			<public 
				publicId="http://www.springframework.org/schema/aop"
				uri="platform:/plugin/org.springframework.aop/org/springframework/aop/config/spring-aop-2.5.xsd"
				webURL="http://www.springframework.org/schema/aop/spring-aop.xsd" />
			<system
				systemId="http://www.springframework.org/schema/aop/spring-aop.xsd"
				uri="platform:/plugin/org.springframework.aop/org/springframework/aop/config/spring-aop-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/aop/spring-aop-2.0.xsd"
				uri="platform:/plugin/org.springframework.aop/org/springframework/aop/config/spring-aop-2.0.xsd" />
			<system
				systemId="http://www.springframework.org/schema/aop/spring-aop-2.1.xsd"
				uri="platform:/plugin/org.springframework.aop/org/springframework/aop/config/spring-aop-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/aop/spring-aop-2.5.xsd"
				uri="platform:/plugin/org.springframework.aop/org/springframework/aop/config/spring-aop-2.5.xsd" />
				
			<!-- TX namespace -->
			<public 
				publicId="http://www.springframework.org/schema/tx"
				uri="platform:/plugin/org.springframework.transaction/org/springframework/transaction/config/spring-tx-2.5.xsd"
				webURL="http://www.springframework.org/schema/tx/spring-tx.xsd" />
			<system
				systemId="http://www.springframework.org/schema/tx/spring-tx.xsd"
				uri="platform:/plugin/org.springframework.transaction/org/springframework/transaction/config/spring-tx-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/tx/spring-tx-2.0.xsd"
				uri="platform:/plugin/org.springframework.transaction/org/springframework/transaction/config/spring-tx-2.0.xsd" />
			<system
				systemId="http://www.springframework.org/schema/tx/spring-tx-2.1.xsd"
				uri="platform:/plugin/org.springframework.transaction/org/springframework/transaction/config/spring-tx-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/tx/spring-tx-2.5.xsd"
				uri="platform:/plugin/org.springframework.transaction/org/springframework/transaction/config/spring-tx-2.5.xsd" />

			<!-- JEE namespace -->
			<public 
				publicId="http://www.springframework.org/schema/jee"
				uri="platform:/plugin/org.springframework.context/org/springframework/ejb/config/spring-jee-2.5.xsd"
				webURL="http://www.springframework.org/schema/jee/spring-jee.xsd" />
			<system
				systemId="http://www.springframework.org/schema/jee/spring-jee.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/ejb/config/spring-jee-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/jee/spring-jee-2.0.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/ejb/config/spring-jee-2.0.xsd" />
			<system
				systemId="http://www.springframework.org/schema/jee/spring-jee-2.5.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/ejb/config/spring-jee-2.5.xsd" />
			
			<!-- Tool namespace -->
			<public
				publicId="http://www.springframework.org/schema/tool"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-tool-2.0.xsd"
				webURL="http://www.springframework.org/schema/tool/spring-tool.xsd" />
			<system
				systemId="http://www.springframework.org/schema/tool/spring-tool.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-tool-2.0.xsd" />
			<system
				systemId="http://www.springframework.org/schema/tool/spring-tool-2.0.xsd"
				uri="platform:/plugin/org.springframework.beans/org/springframework/beans/factory/xml/spring-tool-2.0.xsd" />
			
			<!-- Lang namespace -->
			<public
				publicId="http://www.springframework.org/schema/lang"
				uri="platform:/plugin/org.springframework.context/org/springframework/scripting/config/spring-lang-2.5.xsd"
				webURL="http://www.springframework.org/schema/lang/spring-lang.xsd" />
			<system
				systemId="http://www.springframework.org/schema/lang/spring-lang.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/scripting/config/spring-lang-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/lang/spring-lang-2.0.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/scripting/config/spring-lang-2.0.xsd" />
			<system
				systemId="http://www.springframework.org/schema/lang/spring-lang-2.1.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/scripting/config/spring-lang-2.5.xsd" />
			<system
				systemId="http://www.springframework.org/schema/lang/spring-lang-2.5.xsd"
				uri="platform:/plugin/org.springframework.context/org/springframework/scripting/config/spring-lang-2.5.xsd" />
		</catalogContribution>
	</extension>

	<extension point="org.eclipse.ui.editors.templates">
		<contextType name="%templatesContextTypeAllName"
			class="org.springframework.ide.eclipse.beans.ui.editor.templates.BeansTemplateContextType"
			id="org.springframework.ide.eclipse.beans.ui.editor.templates.contextType.all">
		</contextType>
		<contextType name="%templatesContextTypeBeanName"
			class="org.springframework.ide.eclipse.beans.ui.editor.templates.BeansTemplateContextType"
			id="org.springframework.ide.eclipse.beans.ui.editor.templates.contextType.bean">
		</contextType>
		<contextType name="%templatesContextTypePropertyName"
			class="org.springframework.ide.eclipse.beans.ui.editor.templates.BeansTemplateContextType"
			id="org.springframework.ide.eclipse.beans.ui.editor.templates.contextType.property">
		</contextType>
		<include file="templates/templates.xml"
			translations="templates/templates.properties" /> 
	</extension>

	<extension point="org.eclipse.ui.preferencePages">
		<page name="%templatesPreferencesPageName"
			category="org.springframework.ide.eclipse.beans.ui.preferencePage"
			class="org.springframework.ide.eclipse.beans.ui.editor.templates.BeanTemplatePreferencePage"
			id="org.springframework.ide.eclipse.beans.ui.editor.templates">
		</page>
	</extension>

	<extension point="org.eclipse.ui.editorActions">
		<editorContribution
			id="org.springframework.ide.eclipse.beans.ui.editor.actions"
			targetID="org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart">
			<menu id="org.eclipse.search.menu" label="%searchMenu.label"
				path="navigate">
				<groupMarker name="internalDialogGroup" />
				<groupMarker name="dialogGroup" />
				<separator name="contextMenuActionsGroup" />
				<separator name="internalOccurrencesGroup" />
			</menu>
			<action
				id="org.springframework.ide.eclipse.beans.ui.editor.actions.searchBeanReferencesAction"
				label="%action.searchBeanReferences.label"
				definitionId="org.springframework.ide.eclipse.beans.ui.editor.commands.searchBeanReferences"
				icon="icons/full/obj16/bean_obj.gif"
				menubarPath="org.eclipse.search.menu/contextMenuActionsGroup"
				class="org.springframework.ide.eclipse.beans.ui.editor.actions.SearchBeanReferencesAction">
			</action>
		</editorContribution>
	</extension>

	<extension point="org.eclipse.ui.commands">
		<command
			id="org.springframework.ide.eclipse.beans.ui.editor.commands.searchBeanReferences"
			name="%command.searchBeanReferences.name"
			categoryId="org.eclipse.search.ui.category.search" />
	</extension>

	<extension point="org.eclipse.ui.bindings">
		<key sequence="M1+M2+G"
			commandId="org.springframework.ide.eclipse.beans.ui.editor.commands.searchBeanReferences"
			contextId="org.eclipse.wst.sse.ui.structuredTextEditorScope"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" />
	</extension>

	<extension point="org.eclipse.ui.popupMenus">
		<viewerContribution
			targetID="org.springframework.ide.eclipse.beans.ui.editor.beansConfig.source.EditorContext"
			id="org.springframework.ide.eclipse.beans.ui.editor.actions.context">
			<menu label="Refactor" path="additions"
				id="org.springframework.ide.eclipse.beans.ui.editor.actions.rector.menu">
			</menu>
			<action
				class="org.springframework.ide.eclipse.beans.ui.editor.actions.RefactorPropertyElementAction"
				icon="icons/full/obj16/spring_obj.gif"
				id="org.springframework.ide.eclipse.beans.ui.editor.actions.refactorPropertyElementAction"
				label="Refactor Property Element"
				menubarPath="org.springframework.ide.eclipse.beans.ui.editor.actions.rector.menu/group1">
			</action>
		</viewerContribution>
	</extension>

	<extension
		point="org.springframework.ide.eclipse.beans.ui.editor.namespaces">
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.bean.BeansContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.bean.BeansReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.bean.BeansHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.bean.BeansOutlineLabelProvider"
			name="Spring Beans"
			uri="http://www.springframework.org/schema/beans" />
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.bean.BeansContentAssistProcessor"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.bean.BeansOutlineLabelProvider"
			name="Spring P" uri="http://www.springframework.org/schema/p" />
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.aop.AopContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.DefaultReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.aop.AopHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.aop.AopOutlineLabelProvider"
			name="Spring AOP" uri="http://www.springframework.org/schema/aop" />
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.util.UtilContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.DefaultReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.util.UtilHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.util.UtilOutlineLabelProvider"
			name="Spring Util" uri="http://www.springframework.org/schema/util" />
		<namespace
			classNameProvider="org.springframework.ide.eclipse.beans.ui.editor.namespaces.tx.TxClassNameProvider"
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.tx.TxContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.DefaultReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.tx.TxHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.tx.TxOutlineLabelProvider"
			name="Spring Tx" uri="http://www.springframework.org/schema/tx" />
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.jee.JeeContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.DefaultReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.jee.JeeHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.jee.JeeOutlineLabelProvider"
			name="Spring Jee" uri="http://www.springframework.org/schema/jee" />
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.lang.LangContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.DefaultReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.lang.LangHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.lang.LangOutlineLabelProvider"
			name="Spring Lang" uri="http://www.springframework.org/schema/lang" />
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.jms.JmsContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.DefaultReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.jms.JmsHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.jms.JmsOutlineLabelProvider"
			name="Spring Jms" uri="http://www.springframework.org/schema/jms" />
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.context.ContextContentAssistProcessor"
			elementLocator="org.springframework.ide.eclipse.beans.ui.editor.namespaces.DefaultReferenceableElementsLocator"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.context.ContextHyperlinkDetector"
			labelProvider="org.springframework.ide.eclipse.beans.ui.editor.outline.context.ContextOutlineLabelProvider"
			name="Spring Context" uri="http://www.springframework.org/schema/context" />
		<!-- Contributions to support the tool namespace's annotations -->
		<namespace
			contentAssistProcessor="org.springframework.ide.eclipse.beans.ui.editor.contentassist.tool.ToolAnnotationBasedContentAssistProcessor"
			hyperLinkDetector="org.springframework.ide.eclipse.beans.ui.editor.hyperlink.tool.ToolAnnotationBasedHyperlinkDetector"
			name="Spring Tool" uri="http://www.springframework.org/schema/tool" />
	</extension>

</plugin>
